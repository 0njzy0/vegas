 // ----------------------------------------------------------------------------
 // Vegas â€“ Fullscreen Backgrounds and Slideshows with jQuery.
 // v1.3.2 - released 2013-08-29 13:29
 // Licensed under the MIT license.
 // http://vegas.jaysalvat.com/
 // ----------------------------------------------------------------------------
 // Copyright (C) 2010-2013 Jay Salvat
 // http://jaysalvat.com/
 // ----------------------------------------------------------------------------

(function(e){function a(t,n){var r={align:"center",valign:"center"};if(e.extend(r,n),0===t.height())return t.load(function(){a(e(this),n)}),void 0;var o,s,i,g=e(window).width(),d=e(window).height(),l=t.width(),v=t.height(),u=d/g,c=v/l;u>c?(o=d/c,s=d):(o=g,s=g*c),i={width:o+"px",height:s+"px",top:"auto",bottom:"auto",left:"auto",right:"auto"},isNaN(parseInt(r.valign,10))?"top"==r.valign?i.top=0:"bottom"==r.valign?i.bottom=0:i.top=(d-s)/2:i.top=0-(s-d)/100*parseInt(r.valign,10)+"px",isNaN(parseInt(r.align,10))?"left"==r.align?i.left=0:"right"==r.align?i.right=0:i.left=(g-o)/2:i.left=0-(o-g)/100*parseInt(r.align,10)+"px",t.css(i)}function t(){g.prependTo("body").fadeIn()}function n(){g.fadeOut("fast",function(){e(this).remove()})}function r(){return e("body").css("backgroundImage")?e("body").css("backgroundImage").replace(/url\("?(.*?)"?\)/i,"$1"):void 0}var o,s=e("<img />").addClass("vegas-background"),i=e("<div />").addClass("vegas-overlay"),g=e("<div />").addClass("vegas-loading"),d=e(),l=null,v=[],u=0,c=5e3,p=function(){},f={init:function(o){var i={src:r(),align:"center",valign:"center",fade:0,loading:!0,load:function(){},complete:function(){}};e.extend(i,e.vegas.defaults.background,o),i.loading&&t();var g=s.clone();return g.css({position:"fixed",left:"0px",top:"0px"}).bind("load",function(){g!=d&&(e(window).bind("load resize.vegas",function(){a(g,i)}),d.is("img")?(d.stop(),g.hide().insertAfter(d).fadeIn(i.fade,function(){e(".vegas-background").not(this).remove(),e("body").trigger("vegascomplete",[this,u-1]),i.complete.apply(g,[u-1])})):g.hide().prependTo("body").fadeIn(i.fade,function(){e("body").trigger("vegascomplete",[this,u-1]),i.complete.apply(this,[u-1])}),d=g,a(d,i),i.loading&&n(),e("body").trigger("vegasload",[d.get(0),u-1]),i.load.apply(d.get(0),[u-1]),u&&(e("body").trigger("vegaswalk",[d.get(0),u-1]),i.walk.apply(d.get(0),[u-1])))}).attr("src",i.src),e.vegas},destroy:function(a){return a&&"background"!=a||(e(".vegas-background, .vegas-loading").remove(),e(window).unbind("*.vegas"),d=e()),a&&"overlay"!=a||e(".vegas-overlay").remove(),clearInterval(o),e.vegas},overlay:function(a){var t={src:null,opacity:null};return e.extend(t,e.vegas.defaults.overlay,a),i.remove(),i.css({margin:"0",padding:"0",position:"fixed",left:"0px",top:"0px",width:"100%",height:"100%"}),t.src&&i.css("backgroundImage","url("+t.src+")"),t.opacity&&i.css("opacity",t.opacity),i.prependTo("body"),e.vegas},slideshow:function(a,t){var n={step:u,delay:c,preload:!1,backgrounds:v,walk:p};if(e.extend(n,e.vegas.defaults.slideshow,a),n.backgrounds!=v&&(a.step||(n.step=0),a.walk||(n.walk=function(){}),n.preload&&e.vegas("preload",n.backgrounds)),v=n.backgrounds,c=n.delay,u=n.step,p=n.walk,clearInterval(o),!v.length)return e.vegas;var r=function(){0>u&&(u=v.length-1),(u>=v.length||!v[u-1])&&(u=0);var a=v[u++];a.walk=n.walk,a.fade===void 0&&(a.fade=n.fade),a.fade>n.delay&&(a.fade=n.delay),e.vegas(a)};return r(),t||(l=!1,e("body").trigger("vegasstart",[d.get(0),u-1])),l||(o=setInterval(r,n.delay)),e.vegas},next:function(){var a=u;return u&&(e.vegas("slideshow",{step:u},!0),e("body").trigger("vegasnext",[d.get(0),u-1,a-1])),e.vegas},previous:function(){var a=u;return u&&(e.vegas("slideshow",{step:u-2},!0),e("body").trigger("vegasprevious",[d.get(0),u-1,a-1])),e.vegas},jump:function(a){var t=u;return u&&(e.vegas("slideshow",{step:a},!0),e("body").trigger("vegasjump",[d.get(0),u-1,t-1])),e.vegas},stop:function(){var a=u;return u=0,l=null,clearInterval(o),e("body").trigger("vegasstop",[d.get(0),a-1]),e.vegas},pause:function(){return l=!0,clearInterval(o),e("body").trigger("vegaspause",[d.get(0),u-1]),e.vegas},get:function(e){return null===e||"background"==e?d.get(0):"overlay"==e?i.get(0):"step"==e?u-1:"paused"==e?l:void 0},preload:function(a){var t=[];for(var n in a)if(a[n].src){var r=document.createElement("img");r.src=a[n].src,t.push(r)}return e.vegas}};e.vegas=function(a){return f[a]?f[a].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof a&&a?(e.error("Method "+a+" does not exist"),void 0):f.init.apply(this,arguments)},e.vegas.defaults={background:{},slideshow:{},overlay:{}}})(jQuery);